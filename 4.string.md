# 数组和字符串

前面我们学习了一些Java基本数据类型，本章继续学习数组和字符串的内容。 

 

## 数组



## 字符串

字符串即文本数据，是使用非常频繁的一种类型，Java 语言的文本数据被保存为字符或字符串类型。 

 

### 定义字符串

一个字符串可以存储**0个到任意个**字符，定义字符串最简单的方式就是使用双引号`""`，示例：

```java
String s = ""; // 空字符串，包含0个字符
String s1 = "A"; // 包含一个字符
String s2 = "ABC"; // 包含3个字符
String s3 = "中文 ABC"; // 包含6个字符，其中有一个空格
String greet = "她说：\"你好\""; // 字符串本身包括双引号，需要使用转义字符 \
```

除了直接赋值以外，字符串还可以通过构造函数`String()`方法创建字符串：

```java
String str = new String("Hello Java");
```

 

### 字符串常用操作

对于已经定义的字符串，可以对其进行各种操作。字符串的常用操作包括：



- **字符串拼接**
  
  字符串拼接可以将两个或多个字符串、字符、整数和浮点数等类型的数据连成一个更大的字符串。字符串拼接可以使用 `+` 运算符或 `concat(String str)` 方法。
  
  - 使用 `+` 运算符
    
    `+`运算符是最方便的字符串连接方式。在使用`+`运算符连接字符串和 `int` 型（或 `double` 型）数据时，`+`将 `int`（或 `double`）型数据自动转换成 `String` 类型：
    
    ```java
    String str = "我国有" + 56 + "个少数名族";
    ```
  
  - 使用`concat(String str)` 方法
    
    `+`运算符可以连接字符串和多种数据类型， `concat()` 方法只能将一个字符串连接到另一个字符串的后面：
    
    ```java
    String poem = "举头望明月";
    poem.concat("低头思故乡");
    ```

 

- **获取字符串长度**
  
  要获取字符串的长度，可以使用 `String` 类的 `length()` 方法。示例，输入手机号码，判断手机号码的格式是否正确：
  
  ```java
  System.out.println("请输入手机号：");
  Scanner scanner = new Scanner(System.in);
  String tel = scanner.next();
  if (tel.length() != 11){
      System.out.println("请输入正确的手机号码");
  }
  else {
      System.out.println("excellent !");
  }
  ```



- **大小写转换**
  
  `toLowerCase()` 方法可以将字符串中的所有字符全部转换成小写，`toUpperCase()` 则将字符串中的所有字符全部转换成大写，大小写转换**非字母的字符不受影响**：
  
  ```java
  String jobs = "stay hungry stay foolish";
  String upperCase = jobs.toUpperCase();
  String lowerCase = jobs.toLowerCase();
  ```

 

- **去除空白字符**
  
  字符串中存在的首尾空格一般情况下都没有任何意义，`trim()`  方法可以去掉字符串中的首尾空格：
  
  ```java
  String whitespaceStr = " Practice makes perfect ";
  whitespaceStr.trim();
  ```



- **截取子字符串**
  
  形象的说，截取子字符串相当于一条线，用刀切成三段一样。根据截取的范围不同，Java提供了两个方法：
  
  - **`substring(int beginIndex)`**
    
    此方式用于提取从索引位置开始至结尾处的字符串部分，例如：
    
    ```java
    String str = "Love me, love my dog";
    String subStr = str.substring(9);
    ```
  
  - **`substring(int beginIndex, int endIndex)`**
    
    该方法用于提取位置 `beginIndex` 和位置 `endIndex` 位置之间的字符串部分，示例：
    
    ```java
    String str = "Love me, love my dog";
    String subStr = str.substring(0, 4);
    ```
    
    > `substring(int beginIndex, int endIndex)`方法包括`beginIndex`，但是不包括`endIndex`。
    
    

- **分割字符串**
  
  字符串的 `split(String regex)` 方法可以按指定的 *分割符* (实际上是正则表达式)对目标字符串进行分割，分割后的内容存放在字符串数组中，示例：
  
  ```java
  String str = "Love me, love my dog";
  String[] strArr = str.split(" ");
  ```



- **替换字符串**
  
  `replace()` 方法用于将目标字符串中的指定字符（串）替换成新的字符（串），`replace()`有两个相似的方法：
  
  - `replace(char oldChar, char newChar)`：将`oldChar`字符替换成`newChar`字符，并返回新的字符串；
  
  - `replace(CharSequence target, CharSequence replacement)`：将`target`字符串替换成`replacement`字符串，并返回新的字符串；
  
  ```java
  // 替换字符
  String str = "Love me, love my dog";
  String newStr = str.replace('m', 'M');
  // 替换字符串
  String poem = "举头望明月，低头思故乡";
  String newPoem = poem.replace("思故乡", "做核酸");
  ```

 

- **字符串查找**
  
  字符串查找分为两种形式：一种是根据字符找索引值，另一种是根据索引找字符。
  
  - 根据字符找索引值
    
    `indexOf()`方法可以根据字符（串）查找对应的索引（`index`），如果查找不到，则返回`-1`，示例：
    
    ```java
    String str = "Love me, love my dog";
    int strIndex = str.indexOf('o');
    String poem = "举头望明月，低头思故乡";
    int poemIndex = poem.indexOf("做核酸");
    ```
  
  - 根据索引找字符
    
    `charAt()`方法可以根据指定的索引（`index`）查找字符，如果`index`超出`length()-1`，则抛出`IndexOutOfBoundsException`异常，示例：
    
    ```java
    String str = "Love me, love my dog";
    System.out.println(str.charAt(1));
    System.out.println(str.charAt(10));
    ```



- **字符串比较**
  
  字符串比较是常见的操作，包括比较相等、比较大小等。比较字符串可以使用`equals()` 方法和`compareTo()` 方法:
  
  - `equals()`
    
    `equals()`方法比较两个字符串的**值是否相等**，示例：
    
    ```java
    String s1 = "Hello";
    String s2 = new String(s1);
    System.out.println(s1 == s2);
    ```
  
  -  `equals()` 方法和 `==` 运算符
    
    `==`运算符比较两个对象是否引用相同的实例，示例：
    
    ```java
    String s1 = "Hello";
    String s2 = new String(s1);
    System.out.println(s1.equals(s2)); // 输出true
    System.out.println(s1 == s2); // 输出false
    ```
    
    > 千万不要使用`==`运算符测试字符串的相等性。
  
  - `compareTo()`
    
    字符串经常需要排序，如手机联系人顺序。`compareTo()`方法可以比较字符串大小，其比较规则为逐个比较每个字符的`Unicode`值。示例：
    
    ```java
    String s1 = "hello";
    String s2 = "你好";
    // compareTo()方法的比较规则
    // 如果s1 和 s2 相等（equals方法返回true），则返回 0
    // 如果s1 大于 s2，返回正数
    // 如果s1 小于 s2，返回负数
    System.out.println(s1.compareTo(s2));
    ```
    
    



### StringBuffer 和 StringBuilder
